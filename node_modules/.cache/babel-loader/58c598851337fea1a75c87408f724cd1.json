{"ast":null,"code":"import _classCallCheck from \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/src/pages/Feeds/components/FeedListView.tsx\";\nimport * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Moment from \"react-moment\";\nimport { PageSection } from \"@patternfly/react-core\";\nimport { setSidebarActive as _setSidebarActive } from \"../../../store/ui/actions\";\nimport { getAllFeedsRequest as _getAllFeedsRequest } from \"../../../store/feed/actions\";\nimport { Table, TableVariant } from \"@patternfly/react-table\";\nimport { LinkIcon } from \"@patternfly/react-icons\";\nimport { DataTableToolbar } from \"../../../components/index\";\nimport debounce from \"lodash/debounce\";\n\nvar AllFeedsPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AllFeedsPage, _React$Component);\n\n  function AllFeedsPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AllFeedsPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AllFeedsPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.onSearch = debounce(function (term) {\n      _this.props.getAllFeedsRequest(term);\n    }, 500);\n    return _this;\n  }\n\n  _createClass(AllFeedsPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          setSidebarActive = _this$props.setSidebarActive,\n          getAllFeedsRequest = _this$props.getAllFeedsRequest;\n      document.title = \"All Feeds - ChRIS UI site\";\n      setSidebarActive({\n        activeGroup: \"feeds_grp\",\n        activeItem: \"all_feeds\"\n      });\n      getAllFeedsRequest();\n    } // Description: Debounce the search call\n    // recall with search param by name\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var feeds = this.props.feeds;\n      return React.createElement(PageSection, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, !!feeds && React.createElement(\"div\", {\n        className: \"white-bg pf-u-p-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(DataTableToolbar, {\n        onSearch: this.onSearch,\n        label: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Table, {\n        \"aria-label\": \"Data table\",\n        variant: TableVariant.compact,\n        cells: [],\n        rows: [],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Feed\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Pipelines\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Created\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Owner\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Status\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, feeds.length > 0 && feeds.map(function (item, i) {\n        return React.createElement(TableRow, {\n          key: \"items_\".concat(i),\n          feed: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return AllFeedsPage;\n}(React.Component);\n\nvar TableRow = function TableRow(props) {\n  var feed = props.feed;\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"capitalize\",\n    to: \"/feeds/\".concat(feed.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(LinkIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), \" \", feed.name)), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"em\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"N/A\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Moment, {\n    format: \"DD MMM YYYY @ HH:mm A\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, feed.creation_date)), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \" \", feed.creator_username), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"em\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"N/A\")));\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setSidebarActive: function setSidebarActive(active) {\n      return dispatch(_setSidebarActive(active));\n    },\n    getAllFeedsRequest: function getAllFeedsRequest(name) {\n      return dispatch(_getAllFeedsRequest(name));\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var ui = _ref.ui,\n      feed = _ref.feed;\n  return {\n    sidebarActiveGroup: ui.sidebarActiveGroup,\n    sidebarActiveItem: ui.sidebarActiveItem,\n    feeds: feed.feeds\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllFeedsPage);","map":{"version":3,"sources":["/Users/gakumar/Desktop/charts-private/ChRIS_ui/src/pages/Feeds/components/FeedListView.tsx"],"names":["React","connect","Link","Moment","PageSection","setSidebarActive","getAllFeedsRequest","Table","TableVariant","LinkIcon","DataTableToolbar","debounce","AllFeedsPage","onSearch","term","props","document","title","activeGroup","activeItem","feeds","compact","length","map","item","i","Component","TableRow","feed","id","name","creation_date","creator_username","mapDispatchToProps","dispatch","active","mapStateToProps","ui","sidebarActiveGroup","sidebarActiveItem"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { RouteComponentProps, Link } from \"react-router-dom\";\nimport Moment from \"react-moment\";\nimport { PageSection } from \"@patternfly/react-core\";\nimport { ApplicationState } from \"../../../store/root/applicationState\";\nimport { setSidebarActive } from \"../../../store/ui/actions\";\nimport { getAllFeedsRequest } from \"../../../store/feed/actions\";\nimport { IFeedState } from \"../../../store/feed/types\";\nimport { IFeedItem } from \"../../../api/models/feed.model\";\nimport { Table, TableVariant } from \"@patternfly/react-table\";\nimport { LinkIcon } from \"@patternfly/react-icons\";\nimport { DataTableToolbar } from \"../../../components/index\";\nimport _ from \"lodash\";\nimport debounce from \"lodash/debounce\";\ninterface IPropsFromDispatch {\n  setSidebarActive: typeof setSidebarActive;\n  getAllFeedsRequest: typeof getAllFeedsRequest;\n}\n\ntype AllProps = IFeedState & IPropsFromDispatch & RouteComponentProps;\n\nclass AllFeedsPage extends React.Component<AllProps> {\n  componentDidMount() {\n    const { setSidebarActive, getAllFeedsRequest } = this.props;\n    document.title = \"All Feeds - ChRIS UI site\";\n    setSidebarActive({\n      activeGroup: \"feeds_grp\",\n      activeItem: \"all_feeds\"\n    });\n    getAllFeedsRequest();\n  }\n\n  // Description: Debounce the search call\n  // recall with search param by name\n  onSearch = debounce((term: string) => {\n    this.props.getAllFeedsRequest(term);\n  }, 500);\n\n  render() {\n    const { feeds } = this.props;\n    return (\n      <PageSection>\n        {!!feeds && (\n          <div className=\"white-bg pf-u-p-lg\">\n            <DataTableToolbar onSearch={this.onSearch} label=\"name\" />\n            <Table\n              aria-label=\"Data table\"\n              variant={TableVariant.compact}\n              cells={[]}\n              rows={[]}\n            >\n              <thead>\n                <tr>\n                  <th>Feed</th>\n                  <th>Pipelines</th>\n                  <th>Created</th>\n                  <th>Owner</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {feeds.length > 0 &&\n                  feeds.map((item: IFeedItem, i) => {\n                    return <TableRow key={`items_${i}`} feed={item} />;\n                  })}\n              </tbody>\n            </Table>\n          </div>\n        )}\n      </PageSection>\n    );\n  }\n}\n\nconst TableRow = (props: { feed: IFeedItem; key: string }) => {\n  const feed = props.feed;\n  return (\n    <tr>\n      <td>\n        <Link className=\"capitalize\" to={`/feeds/${feed.id}`}>\n          <LinkIcon /> {feed.name}\n        </Link>\n      </td>\n      <td>\n        <em>N/A</em>\n      </td>\n      <td>\n        <Moment format=\"DD MMM YYYY @ HH:mm A\">{feed.creation_date}</Moment>\n      </td>\n      <td> {feed.creator_username}</td>\n      <td>\n        <em>N/A</em>\n      </td>\n    </tr>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  setSidebarActive: (active: { activeItem: string; activeGroup: string }) =>\n    dispatch(setSidebarActive(active)),\n  getAllFeedsRequest: (name?: string) => dispatch(getAllFeedsRequest(name))\n});\n\nconst mapStateToProps = ({ ui, feed }: ApplicationState) => ({\n  sidebarActiveGroup: ui.sidebarActiveGroup,\n  sidebarActiveItem: ui.sidebarActiveItem,\n  feeds: feed.feeds\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AllFeedsPage);\n"]},"metadata":{},"sourceType":"module"}