{"ast":null,"code":"import _classCallCheck from \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from \"axios\";\n\n// Set up defaults\n// const defaultParams: IParams = { limit: 10, offset: 0 };\n// Fetch file blob from server\nvar FeedFileModel =\n/*#__PURE__*/\nfunction () {\n  function FeedFileModel() {\n    _classCallCheck(this, FeedFileModel);\n  }\n\n  _createClass(FeedFileModel, null, [{\n    key: \"getFileBlob\",\n    value: function getFileBlob(url) {\n      var auth = {\n        token: \"\".concat(window.sessionStorage.getItem(\"AUTH_TOKEN\"))\n      };\n      var header = {\n        \"Content-Type\": \"application/vnd.collection+json\",\n        \"Authorization\": \"Token \" + auth.token\n      };\n      var config = {\n        headers: header,\n        method: \"get\",\n        responseType: \"blob\",\n        url: url\n      };\n      return axios(config);\n    }\n  }]);\n\n  return FeedFileModel;\n}();\n\nexport { FeedFileModel as default };","map":{"version":3,"sources":["/Users/gakumar/Desktop/charts-private/ChRIS_ui/src/api/models/feed-file.model.ts"],"names":["axios","FeedFileModel","url","auth","token","window","sessionStorage","getItem","header","config","headers","method","responseType"],"mappings":";;AAAA,OAAOA,KAAP,MAA0C,OAA1C;;AAmBA;AACA;AAEA;IACqBC,a;;;;;;;;;gCACAC,G,EAAa;AAC9B,UAAMC,IAAI,GAAG;AAAEC,QAAAA,KAAK,YAAKC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,CAAL;AAAP,OAAb;AACA,UAAMC,MAAM,GAAG;AACb,wBAAgB,iCADH;AAEb,yBAAiB,WAAWL,IAAI,CAACC;AAFpB,OAAf;AAIA,UAAMK,MAA0B,GAAG;AACjCC,QAAAA,OAAO,EAAEF,MADwB;AAEjCG,QAAAA,MAAM,EAAE,KAFyB;AAGjCC,QAAAA,YAAY,EAAE,MAHmB;AAIjCV,QAAAA,GAAG,EAAHA;AAJiC,OAAnC;AAMA,aAAOF,KAAK,CAACS,MAAD,CAAZ;AACD;;;;;;SAdkBR,a","sourcesContent":["import axios, { AxiosRequestConfig } from \"axios\";\nimport { chrisId } from \"./base.model\";\n\n// Description: ChRIS API Feed File\n// ------------------------------------------\nexport interface IFeedFile extends IFeedFileLinks {\n  id: chrisId;\n  feed_id: chrisId;\n  plugin_inst_id: chrisId;\n  fname: string;\n}\n\n// Description: urls for IFeedFile\nexport interface IFeedFileLinks {\n  url: string;\n  file_resource: string;\n  plugin_instances: string;\n}\n\n// Set up defaults\n// const defaultParams: IParams = { limit: 10, offset: 0 };\n\n// Fetch file blob from server\nexport default class FeedFileModel {\n  static getFileBlob(url: string) {\n    const auth = { token: `${window.sessionStorage.getItem(\"AUTH_TOKEN\")}` };\n    const header = {\n      \"Content-Type\": \"application/vnd.collection+json\",\n      \"Authorization\": \"Token \" + auth.token\n    };\n    const config: AxiosRequestConfig = {\n      headers: header,\n      method: \"get\",\n      responseType: \"blob\",\n      url\n    };\n    return axios(config);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}