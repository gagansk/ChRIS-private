{"ast":null,"code":"import _objectSpread from \"/Users/gakumar/Desktop/charts-private/ChRIS_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { UserActionTypes } from \"./types\"; // Type-safe initialState\n\nvar initialState = {\n  username: window.sessionStorage.getItem(\"USERNAME\"),\n  token: window.sessionStorage.getItem(\"AUTH_TOKEN\"),\n  isRememberMe: false,\n  isLoggedIn: !!window.sessionStorage.getItem(\"AUTH_TOKEN\")\n}; // ***** NOTE: Working *****\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case UserActionTypes.FETCH_TOKEN:\n      {\n        return _objectSpread({}, state, {\n          username: action.payload.username\n        });\n      }\n\n    case UserActionTypes.FETCH_TOKEN_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          token: action.payload,\n          isLoggedIn: true\n        });\n      }\n\n    case UserActionTypes.FETCH_TOKEN_ERROR:\n      {\n        return _objectSpread({}, state, {\n          username: null,\n          token: null,\n          isLoggedIn: false\n        });\n      }\n\n    case UserActionTypes.LOGOUT_USER:\n      {\n        return _objectSpread({}, state, {\n          username: null,\n          token: null,\n          isLoggedIn: false\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport { reducer as userReducer };","map":{"version":3,"sources":["/Users/gakumar/Desktop/charts-private/ChRIS_ui/src/store/user/reducer.ts"],"names":["UserActionTypes","initialState","username","window","sessionStorage","getItem","token","isRememberMe","isLoggedIn","reducer","state","action","type","FETCH_TOKEN","payload","FETCH_TOKEN_SUCCESS","FETCH_TOKEN_ERROR","LOGOUT_USER","userReducer"],"mappings":";AACA,SAAqBA,eAArB,QAA4C,SAA5C,C,CAGA;;AACA,IAAMC,YAAwB,GAAG;AAC7BC,EAAAA,QAAQ,EAAEC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CADmB;AAE7BC,EAAAA,KAAK,EAAGH,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,CAFqB;AAG7BE,EAAAA,YAAY,EAAE,KAHe;AAI7BC,EAAAA,UAAU,EAAE,CAAC,CAACL,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B;AAJe,CAAjC,C,CAOA;;AACA,IAAMI,OAA4B,GAAG,SAA/BA,OAA+B,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBT,YAAyB;AAAA,MAAXU,MAAW;;AACnE,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKZ,eAAe,CAACa,WAArB;AAAkC;AAC9B,iCAAYH,KAAZ;AAAmBR,UAAAA,QAAQ,EAAES,MAAM,CAACG,OAAP,CAAeZ;AAA5C;AACH;;AACD,SAAKF,eAAe,CAACe,mBAArB;AAA0C;AACtC,iCAAYL,KAAZ;AAAmBJ,UAAAA,KAAK,EAAEK,MAAM,CAACG,OAAjC;AAA0CN,UAAAA,UAAU,EAAE;AAAtD;AACH;;AACD,SAAKR,eAAe,CAACgB,iBAArB;AAAwC;AACpC,iCAAYN,KAAZ;AAAmBR,UAAAA,QAAQ,EAAE,IAA7B;AAAmCI,UAAAA,KAAK,EAAE,IAA1C;AAAgDE,UAAAA,UAAU,EAAE;AAA5D;AACH;;AACD,SAAKR,eAAe,CAACiB,WAArB;AAAkC;AAC9B,iCAAYP,KAAZ;AAAmBR,UAAAA,QAAQ,EAAE,IAA7B;AAAmCI,UAAAA,KAAK,EAAE,IAA1C;AAAgDE,UAAAA,UAAU,EAAE;AAA5D;AACH;;AAED;AAAS;AACL,eAAOE,KAAP;AACH;AAhBL;AAkBH,CAnBD;;AAqBA,SAASD,OAAO,IAAIS,WAApB","sourcesContent":["import { Reducer } from \"redux\";\nimport { IUserState, UserActionTypes } from \"./types\";\n\n\n// Type-safe initialState\nconst initialState: IUserState = {\n    username: window.sessionStorage.getItem(\"USERNAME\"),\n    token:  window.sessionStorage.getItem(\"AUTH_TOKEN\"),\n    isRememberMe: false,\n    isLoggedIn: !!window.sessionStorage.getItem(\"AUTH_TOKEN\")\n};\n\n// ***** NOTE: Working *****\nconst reducer: Reducer<IUserState> = (state = initialState, action) => {\n    switch (action.type) {\n        case UserActionTypes.FETCH_TOKEN: {\n            return { ...state, username: action.payload.username };\n        }\n        case UserActionTypes.FETCH_TOKEN_SUCCESS: {\n            return { ...state, token: action.payload, isLoggedIn: true };\n        }\n        case UserActionTypes.FETCH_TOKEN_ERROR: {\n            return { ...state, username: null, token: null, isLoggedIn: false  };\n        }\n        case UserActionTypes.LOGOUT_USER: {\n            return { ...state, username: null, token: null, isLoggedIn: false };\n        }\n\n        default: {\n            return state;\n        }\n    }\n};\n\nexport { reducer as userReducer };\n"]},"metadata":{},"sourceType":"module"}